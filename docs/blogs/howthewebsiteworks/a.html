 



<!DOCTYPE html>

<html>
    
<head>
    <meta charset="utf-8">
    <title>How Blue's Website Works | Blog</title>
    <link rel="stylesheet" href="https://bluesillybeard.github.io/style.css">
</head>


    <body>
        

<div class="topbar">
        <div class="logo bar-item">[LOGO]</div>
    <a href="https://bluesillybeard.github.io/index.html" class="linkbutton bar-item">
        Home
    </a>
    <div class="theme-select bar-item">
        <input type="checkbox" class="theme-select-input">
        <label for="theme-select-input">Light theme</label>
    </div>
    <div class="topbar-fill bar-item"></div>
</div>

<script>
    function themeSwitchActivated(e) {
        if(e.currentTarget.checked === true) {
            // Add item to localstorage
            localStorage.setItem('theme', 'light');
            setTheme('light');
        } else {
            // Remove item if theme is switched back to normal
            localStorage.removeItem('theme');
            setTheme('dark');
        }
    }

    function setTheme(theme) {
        // Maybe this isn't the best way transfer JS variables into CSS, but I don't really care.
        // As long as it works, I'm going with it because I am an absolute noob at web dev.
        document.body.setAttribute("theme", theme);
    }

    const themeSwitches = document.getElementsByClassName('theme-select-input');
    for(let i = 0; i<themeSwitches.length; ++i) {
        const otherThemeSwitch = themeSwitches.item(i);
        otherThemeSwitch.checked = localStorage.getItem('theme') === 'light';
        otherThemeSwitch.addEventListener('change', themeSwitchActivated);
    }

    const themeSwitchChecked = themeSwitches.item(0).checked;
    if(themeSwitchChecked == true) {
        setTheme('light');
    } else {
        setTheme('dark');
    }

</script>
        <div class="content">
            <div class="page">
                
                <h1 class="title-header">How my website works</h1><br>
                It's simple really: a bunch of html files are processed with M4 macros and published to github pages! What, you want more detail? Fine.<br>
                <br>
                <h2 class="sub-header">Who is this article for?</h2><br>
                This article is intended for a general audience. <br>
                <h2 class="sub-header">Step one: Hosting</h2><br>
                There are a million ways to host a website. Things like Wix and Squarespace exist as a combination of easy-to-use website builder and host.
                They provide all kinds of useful functionality, such as templates, themes, paid content, etc. I did not use one of those, for a few reasons:<br>
                <ul>
                    <li>They often require payment</li>
                    <li>If they vanish for some reason, my website vanishes with it</li>
                    <li>Perhaps most importantly, It's more fun to do it manually anyway</li>
                </ul>
                <br>
                Instead, I use a simple static website hosting service: Github Pages. Github Pages is mainly for software projects to host their own basic website,
                but nothing is stopping anyone from hosting a website with whatever content they want. There isn't any control over the server-side - so 
                no fancy features like accounts or comments - but it works great for hosting basic web pages.<br>
                <br>
                Setting up on Github Pages is simple, and there are a million tutorials about it. I just have to put a bunch of HTML files in a folder, and I can just upload it.
                It was really quite simple to get it set up, and in mere minutes I had a website up and running! But, it looked a little something like this:<br>
                
                
                <img src="blank.png" style="width:100%"> <br>
                <br>
                Yeah, not exactly presentable. 
                <h2 class="sub-header">Step Two: making the actual website</h2><br>
                To make writing HTML code a little easier, it's common to use a build step. In my case, that build step takes the shape of a macro processor.
                A macro processor is something that takes a text ./blogs/howthewebsiteworks/a.html, and processes it. It's almost its own programming language, but instead of code that
                runs step-by-step, it's code that takes a text ./blogs/howthewebsiteworks/a.html (in my case, HTML code) and does a fancy version of find and replace.
                M4 is a macro processor that is widely available, and relatively simple to use. Here is a simplified version of the code used to build this website:
                <pre class="code">
    define(&#96;HEAD', &#96;
    &lt;head&gt;
        &lt;meta charset="utf-8"&gt;
        &lt;title>$1&lt;/title&gt;
        &lt;link rel="stylesheet" href="HOSTSITE()/style.css"&gt;
        &lt;/head&gt;
    ') 
    esyscmd(cat file)
                </pre>
                Let's dig through what this means, line by line.

                "define(&#96;HEAD')" tells m4 to create a macro called "HEAD"
            </div>
        </div>
    </body>
</html>

